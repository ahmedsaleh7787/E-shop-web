<div class="container my-7 min-h-[calc(100dvh/1.75)] md:mx-20 lg:mx-30 xl:mx-50">
    <p class="font-bold text-2xl font-words text-green-700 ">Cart Items</p>


    <div class="sm:grid sm:grid-cols-12 sm:gap-4  mx-2  ">

        <div class="sm:col-span-8  ">

            @for (item of cartDetails.data?.products; track $index) {
            <div class=" flex justify-between items-center bg-green-50 rounded my-1 shadow ">
                <div class="flex">
                    <img class="size-16  mx-4 my-0.5 rounded-lg transition-transform duration-300 cursor-pointer focus:scale-150 "
                        tabindex="0" src={{item.product.imageCover}} alt={{item.product.title}}>
                    <div class="flex flex-col w-full">
                        <p class="text-lg font-words ">{{item.product.title| titlecase}}</p>
                        <div class=" flex items-center  w-fit">
                            <div class="border rounded border-neutral-300">
                                <i (click)="updateCount(item.product._id,item.count-1)" class="fa-solid fa-minus mx-0.5 cursor-pointer"></i>
                                <span class="mx-3">{{item.count}}</span>
                                <i (click)="updateCount(item.product._id,item.count+1)" class="fa-solid fa-plus mx-0.5 cursor-pointer"></i>
                            </div>

                            <button (click)="removeItem(item.product._id)" > <i class="fa-solid fa-trash text-red-500 cursor-pointer mx-1"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="mx-2 flex flex-col items-center">
                    <p> {{item.price*item.count|currency:'USD'}}</p>
                </div>

            </div>
            }

        </div>



        <div class="sm:col-span-4  ">
            <div class=" bg-amber-100 sm:fixed sm:w-[32%] w-[70%] lg:w-[25%] xl:w-[20%] rounded p-2 mt-3 ">
                <p class="mx-auto text-xl font-bold font-words">Order Summary</p>
                <p>Cart Items : {{cartDetails.numOfCartItems}}</p>
                <div class="flex justify-between">
                    <span>Total Price : {{cartDetails.data?.totalCartPrice |currency:'USD'}}</span>
                </div>
                <div class="flex justify-center">

                    <button type="button" [routerLink]="['/checkout',cartDetails.cartId]"
                        class=" cursor-pointer focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">proceed
                        to checkout</button>
                </div>
            </div>
        </div>


    </div>
</div>